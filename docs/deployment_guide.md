# üöÄ –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –¥–µ–ø–ª–æ—é Finance Bot

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

1. [–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞](#1-–ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞-—Å–µ—Ä–≤–µ—Ä–∞)
2. [–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π](#2-—É—Å—Ç–∞–Ω–æ–≤–∫–∞-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π)
3. [–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è](#3-–Ω–∞—Å—Ç—Ä–æ–π–∫–∞-–æ–∫—Ä—É–∂–µ–Ω–∏—è)
4. [–î–µ–ø–ª–æ–π –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è](#4-–¥–µ–ø–ª–æ–π-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è)
5. [–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ](#5-–º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥-–∏-–æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ)
6. [–†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º](#6-—Ä–µ—à–µ–Ω–∏–µ-–ø—Ä–æ–±–ª–µ–º)

---

## 1. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞

### –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

- **CPU**: 2 —è–¥—Ä–∞ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è 4 –¥–ª—è Whisper.cpp)
- **RAM**: 2 GB (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è 4 GB, Whisper.cpp –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –Ω–∞ 75% –º–µ–Ω—å—à–µ –ø–∞–º—è—Ç–∏)
- **–î–∏—Å–∫**: 10 GB —Å–≤–æ–±–æ–¥–Ω–æ–≥–æ –º–µ—Å—Ç–∞
- **–û–°**: Ubuntu 20.04+, Debian 11+

> ‚ö° **Whisper.cpp**: –ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—É—é –≤–µ—Ä—Å–∏—é Whisper, –∫–æ—Ç–æ—Ä–∞—è —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ 2-4 —Ä–∞–∑–∞ –±—ã—Å—Ç—Ä–µ–µ –∏ –ø–æ—Ç—Ä–µ–±–ª—è–µ—Ç –≤ 4 —Ä–∞–∑–∞ –º–µ–Ω—å—à–µ –ø–∞–º—è—Ç–∏ —á–µ–º openai-whisper.

### –ü–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞

```bash
# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã
sudo apt update && sudo apt upgrade -y

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –±–∞–∑–æ–≤—ã—Ö —É—Ç–∏–ª–∏—Ç
sudo apt install -y git curl wget nano htop

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ firewall (UFW)
sudo ufw allow 22/tcp      # SSH
sudo ufw allow 80/tcp      # HTTP (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
sudo ufw allow 443/tcp     # HTTPS (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
sudo ufw enable
sudo ufw status
```

---

## 2. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Docker

```bash
# –£–¥–∞–ª–µ–Ω–∏–µ —Å—Ç–∞—Ä—ã—Ö –≤–µ—Ä—Å–∏–π (–µ—Å–ª–∏ –µ—Å—Ç—å)
sudo apt remove docker docker-engine docker.io containerd runc

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
sudo apt install -y \
    apt-transport-https \
    ca-certificates \
    curl \
    gnupg \
    lsb-release

# –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–≥–æ GPG –∫–ª—é—á–∞ Docker
sudo mkdir -p /etc/apt/keyrings
curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo gpg --dearmor -o /etc/apt/keyrings/docker.gpg

# –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è Docker
echo \
  "deb [arch=$(dpkg --print-architecture) signed-by=/etc/apt/keyrings/docker.gpg] https://download.docker.com/linux/ubuntu \
  $(lsb_release -cs) stable" | sudo tee /etc/apt/sources.list.d/docker.list > /dev/null

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Docker Engine
sudo apt update
sudo apt install -y docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin

# –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –≥—Ä—É–ø–ø—É docker
sudo usermod -aG docker $USER

# –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π (–ø–µ—Ä–µ–ª–æ–≥–∏–Ω—å—Ç–µ—Å—å)
newgrp docker

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏
docker --version
docker compose version
```
sudo apt update

---

## 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è

### –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

```bash
# –°–æ–∑–¥–∞–Ω–∏–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –¥–ª—è –ø—Ä–æ–µ–∫—Ç–∞ (–∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –¥–æ–º–∞—à–Ω—é—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é)
mkdir -p ~/finance-bot
cd ~/finance-bot

# –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
git clone <your-repository-url> .

# –ò–ª–∏ –∑–∞–≥—Ä—É–∑–∫–∞ —á–µ—Ä–µ–∑ SCP/SFTP
```

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

```bash
# –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —à–∞–±–ª–æ–Ω–∞
cp .env.template.docker .env

# –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ .env
nano .env
```

**–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è:**

```env
# Telegram Bot Token (–ø–æ–ª—É—á–∏—Ç—å —É @BotFather)
BOT_TOKEN=123456:ABC-DEF1234ghIkl-zyx57W2v1u123ew11

# AgentRouter API Key (–¥–ª—è –ø–∞—Ä—Å–∏–Ω–≥–∞ —Ç–µ–∫—Å—Ç–∞)
AGENTROUTER_API_KEY=sk-xxxxxxxxxxxxxxxxxxxxx

# PostgreSQL –ø–∞—Ä–æ–ª—å (—Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –Ω–∞–¥–µ–∂–Ω—ã–π –ø–∞—Ä–æ–ª—å)
POSTGRES_PASSWORD=strong_unique_password_123

# Redis –ø–∞—Ä–æ–ª—å (—Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –Ω–∞–¥–µ–∂–Ω—ã–π –ø–∞—Ä–æ–ª—å)
REDIS_PASSWORD=another_strong_password_456
```

**–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –Ω–∞–¥–µ–∂–Ω—ã—Ö –ø–∞—Ä–æ–ª–µ–π:**

```bash
# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–ª—É—á–∞–π–Ω–æ–≥–æ –ø–∞—Ä–æ–ª—è
openssl rand -base64 32
```

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –º–æ–¥–µ–ª–∏ Whisper.cpp

–í –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ä–µ—Å—É—Ä—Å–æ–≤ —Å–µ—Ä–≤–µ—Ä–∞:

| RAM —Å–µ—Ä–≤–µ—Ä–∞ | –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–∞—è –º–æ–¥–µ–ª—å | CPU –ø–æ—Ç–æ–∫–∏ | –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å |
|-------------|---------------------|------------|-------------------|
| 2 GB | `tiny` | 2 | –û—á–µ–Ω—å –±—ã—Å—Ç—Ä–æ, –±–∞–∑–æ–≤–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ |
| 4 GB | `base` ‚úÖ | 4 | –ë—ã—Å—Ç—Ä–æ, —Ö–æ—Ä–æ—à–µ–µ –∫–∞—á–µ—Å—Ç–≤–æ |
| 6+ GB | `small` | 4-6 | –°—Ä–µ–¥–Ω–µ, –æ—Ç–ª–∏—á–Ω–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ |
| 8+ GB | `medium` | 6-8 | –ú–µ–¥–ª–µ–Ω–Ω–æ, –ø—Ä–µ–≤–æ—Å—Ö–æ–¥–Ω–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ |

```env
# –í .env
WHISPER_MODEL=base      # tiny, base, small, medium, large
WHISPER_THREADS=4       # –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ CPU –ø–æ—Ç–æ–∫–æ–≤ (2-8)
```

> **–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** Whisper.cpp –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç GPU, –Ω–æ CPU –≤–µ—Ä—Å–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç –±—ã—Å—Ç—Ä–µ–µ —Å—Ç–∞—Ä–æ–π GPU –≤–µ—Ä—Å–∏–∏ openai-whisper –±–ª–∞–≥–æ–¥–∞—Ä—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è–º.

---

## 4. –î–µ–ø–ª–æ–π –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

### –ú–µ—Ç–æ–¥ 1: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

```bash
# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å–∫—Ä–∏–ø—Ç–∞ –¥–µ–ø–ª–æ—è
./deploy.sh

# –ò–ª–∏ –¥–ª—è production —Ä–µ–∂–∏–º–∞
./deploy.sh prod
```

### –ú–µ—Ç–æ–¥ 3: –í—Ä—É—á–Ω—É—é —á–µ—Ä–µ–∑ docker-compose

```bash
# –°–±–æ—Ä–∫–∞ –æ–±—Ä–∞–∑–æ–≤
docker compose build

# –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–æ–≤
docker compose up -d

# –û–∂–∏–¥–∞–Ω–∏–µ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏
sleep 30

# –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–π
docker compose exec bot alembic upgrade head

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
docker compose ps
```

### Production –¥–µ–ø–ª–æ–π

–î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω –æ–∫—Ä—É–∂–µ–Ω–∏—è –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—É—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é:

```bash
# –ó–∞–ø—É—Å–∫ –≤ production —Ä–µ–∂–∏–º–µ
docker compose -f docker-compose.yml -f docker-compose.prod.yml up -d
```

**–û—Ç–ª–∏—á–∏—è production —Ä–µ–∂–∏–º–∞:**

- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤ –¥–ª—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
- –ü–æ–ª–∏—Ç–∏–∫–∞ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ –ø—Ä–∏ —Å–±–æ—è—Ö
- –†–æ—Ç–∞—Ü–∏—è –ª–æ–≥–æ–≤
- –ü–æ—Ä—Ç—ã –Ω–µ —ç–∫—Å–ø–æ–Ω–∏—Ä—É—é—Ç—Å—è –Ω–∞—Ä—É–∂—É

---

## 5. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞

```bash
# –°—Ç–∞—Ç—É—Å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
docker compose ps
make ps

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è —Å–µ—Ä–≤–∏—Å–æ–≤
make health

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤
docker stats
```

### –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤

```bash
# –í—Å–µ –ª–æ–≥–∏
docker compose logs -f

# –¢–æ–ª—å–∫–æ –±–æ—Ç
docker compose logs -f bot
make logs-bot

# –ü–æ—Å–ª–µ–¥–Ω–∏–µ 100 —Å—Ç—Ä–æ–∫
docker compose logs --tail=100 bot

# –õ–æ–≥–∏ –∑–∞ –ø–µ—Ä–∏–æ–¥
docker compose logs --since 2025-01-20T10:00:00 bot
```

### –†–µ–≥—É–ª—è—Ä–Ω–æ–µ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ

#### –°–æ–∑–¥–∞–Ω–∏–µ –±—ç–∫–∞–ø–æ–≤

```bash
# –ë—ç–∫–∞–ø –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
make backup-db

# –ò–ª–∏ –≤—Ä—É—á–Ω—É—é
docker compose exec -T postgres pg_dump -U finance_user finance_bot > backup_$(date +%Y%m%d_%H%M%S).sql
```

**–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –±—ç–∫–∞–ø–æ–≤ (cron):**

```bash
# –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å crontab
crontab -e

# –î–æ–±–∞–≤–∏—Ç—å –∑–∞–¥–∞—á—É (–±—ç–∫–∞–ø –∫–∞–∂–¥—ã–π –¥–µ–Ω—å –≤ 3:00)
0 3 * * * cd ~/finance-bot && /usr/bin/make backup-db >> ~/finance-bot-backup.log 2>&1
```

#### –û—á–∏—Å—Ç–∫–∞ –ª–æ–≥–æ–≤

```bash
# –û—á–∏—Å—Ç–∫–∞ Docker –ª–æ–≥–æ–≤
docker compose logs --tail=0 > /dev/null

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ logrotate
sudo nano /etc/logrotate.d/finance-bot
```

–°–æ–¥–µ—Ä–∂–∏–º–æ–µ `/etc/logrotate.d/finance-bot`:

```
/home/YOUR_USERNAME/finance-bot/logs/*.log {
    daily
    rotate 7
    compress
    delaycompress
    missingok
    notifempty
    create 0644 YOUR_USERNAME YOUR_USERNAME
}
```

#### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

```bash
# –ü–æ–ª—É—á–µ–Ω–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π –∏–∑ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
git pull origin main

# –ü–µ—Ä–µ—Å–±–æ—Ä–∫–∞ –∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫
make rebuild-bot

# –ò–ª–∏ –ø–æ–ª–Ω–∞—è –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∞
docker compose down
docker compose build --no-cache
docker compose up -d
make migrate
```

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫–∞

–°–æ–∑–¥–∞–π—Ç–µ systemd service –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–µ —Å–µ—Ä–≤–µ—Ä–∞.

**–°–æ–∑–¥–∞–Ω–∏–µ —Ñ–∞–π–ª–∞ —Å–µ—Ä–≤–∏—Å–∞:**

```bash
sudo nano /etc/systemd/system/finance-bot.service
```

**–°–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞:**

```ini
[Unit]
Description=Finance Bot Docker Compose Service
Requires=docker.service
After=docker.service network.target

[Service]
Type=oneshot
RemainAfterExit=yes
WorkingDirectory=/home/YOUR_USERNAME/finance-bot

# –î–ª—è production
ExecStart=/usr/bin/docker compose -f docker-compose.yml -f docker-compose.prod.yml up -d
ExecStop=/usr/bin/docker compose down

# –î–ª—è development
# ExecStart=/usr/bin/docker compose up -d
# ExecStop=/usr/bin/docker compose down

TimeoutStartSec=300
Restart=on-failure
RestartSec=10s

[Install]
WantedBy=multi-user.target
```

**–ê–∫—Ç–∏–≤–∞—Ü–∏—è —Å–µ—Ä–≤–∏—Å–∞:**

```bash
# –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ systemd
sudo systemctl daemon-reload

# –í–∫–ª—é—á–µ–Ω–∏–µ –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫–∞
sudo systemctl enable finance-bot

# –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–∞
sudo systemctl start finance-bot

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
sudo systemctl status finance-bot

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ systemd
sudo journalctl -u finance-bot -f
```

**–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–æ–º:**

```bash
sudo systemctl start finance-bot    # –ó–∞–ø—É—Å–∫
sudo systemctl stop finance-bot     # –û—Å—Ç–∞–Ω–æ–≤–∫–∞
sudo systemctl restart finance-bot  # –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫
sudo systemctl status finance-bot   # –°—Ç–∞—Ç—É—Å
```

---

## 6. –û—á–∏—Å—Ç–∫–∞ –º–µ—Å—Ç–∞ –Ω–∞ –¥–∏—Å–∫–µ

### –ï—Å–ª–∏ –∑–∞–∫–æ–Ω—á–∏–ª–æ—Å—å –º–µ—Å—Ç–æ –≤–æ –≤—Ä–µ–º—è —Å–±–æ—Ä–∫–∏ Docker

#### ‚ö†Ô∏è –û—à–∏–±–∫–∞: "No space left on device"

–ï—Å–ª–∏ –ø—Ä–∏ —Å–±–æ—Ä–∫–µ Docker –æ–±—Ä–∞–∑–∞ –ø–æ—è–≤–ª—è–µ—Ç—Å—è –æ—à–∏–±–∫–∞ `dpkg: error processing archive ... failed to write (No space left on device)`, –≤—ã–ø–æ–ª–Ω–∏—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ –¥–µ–π—Å—Ç–≤–∏—è:

```bash
# 1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ—Å—Ç—É–ø–Ω–æ–µ –º–µ—Å—Ç–æ
df -h

# 2. –û—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∏ —É–¥–∞–ª–∏—Ç–µ –≤—Å–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
docker stop $(docker ps -aq) 2>/dev/null
docker rm $(docker ps -aq) 2>/dev/null

# 3. –£–¥–∞–ª–∏—Ç–µ –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –æ–±—Ä–∞–∑—ã
docker image prune -a -f

# 4. –£–¥–∞–ª–∏—Ç–µ –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ volumes
docker volume prune -f

# 5. –£–¥–∞–ª–∏—Ç–µ build cache
docker builder prune -a -f

# 6. –ü–æ–ª–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞ Docker (–í–ù–ò–ú–ê–ù–ò–ï: —É–¥–∞–ª–∏—Ç –í–°–Å)
docker system prune -a --volumes -f

# 7. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –æ—Å–≤–æ–±–æ–¥–∏–≤—à–µ–µ—Å—è –º–µ—Å—Ç–æ
df -h

# 8. –û—á–∏—Å—Ç–∏—Ç–µ —Å–∏—Å—Ç–µ–º–Ω—ã–µ –ª–æ–≥–∏ (–æ—Å–≤–æ–±–æ–¥–∏—Ç 1-2 GB)
sudo journalctl --vacuum-time=7d
sudo journalctl --vacuum-size=100M

# 9. –û—á–∏—Å—Ç–∏—Ç–µ APT –∫—ç—à
sudo apt-get clean
sudo apt-get autoclean
sudo apt-get autoremove -y

# 10. –£–¥–∞–ª–∏—Ç–µ —Å—Ç–∞—Ä—ã–µ —è–¥—Ä–∞ Linux (–µ—Å–ª–∏ –µ—Å—Ç—å)
sudo apt-get autoremove --purge -y

# 11. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∏—Ç–æ–≥–æ–≤–æ–µ –º–µ—Å—Ç–æ
df -h
```

#### –ü–æ—Å–ª–µ –æ—á–∏—Å—Ç–∫–∏ –ø–µ—Ä–µ—Å–æ–±–µ—Ä–∏—Ç–µ –æ–±—Ä–∞–∑:

```bash
cd ~/finance-bot
docker compose build --no-cache
docker compose up -d
```

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –¥–∏—Å–∫–∞

```bash
# –ü–æ–∫–∞–∑–∞—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–æ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è–º
du -sh /*

# –ù–∞–π—Ç–∏ –±–æ–ª—å—à–∏–µ —Ñ–∞–π–ª—ã (>100MB)
find / -type f -size +100M 2>/dev/null

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –º–µ—Å—Ç–∞ Docker
docker system df
```

---

## 7. –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –ë–æ—Ç –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è

**–ü—Ä–æ–±–ª–µ–º–∞**: –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –±–æ—Ç–∞ –ø–æ—Å—Ç–æ—è–Ω–Ω–æ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏
docker compose logs --tail=50 bot

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
docker compose exec bot env | grep BOT_TOKEN

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ë–î
docker compose exec bot python -c "from config.config import DATABASE_URL; print(DATABASE_URL)"
```

**–†–µ—à–µ–Ω–∏–µ**:
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å `BOT_TOKEN` –≤ `.env`
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ë–î –∑–∞–ø—É—â–µ–Ω–∞: `docker compose ps postgres`
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å —Å–µ—Ç–∏: `docker network ls`

### Whisper.cpp –Ω–µ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–±–∏—Ä—É–µ—Ç

**–ü—Ä–æ–±–ª–µ–º–∞**: –û—à–∏–±–∫–∏ –ø—Ä–∏ –æ–±—Ä–∞–±–æ—Ç–∫–µ –≥–æ–ª–æ—Å–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å Whisper.cpp
docker compose ps whisper

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏
docker compose logs --tail=50 whisper

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å API (–¥–æ–ª–∂–µ–Ω –ø–æ–∫–∞–∑–∞—Ç—å backend: whisper.cpp)
curl http://localhost:8000/health

# –û–∂–∏–¥–∞–µ–º—ã–π –æ—Ç–≤–µ—Ç:
# {
#   "status": "healthy",
#   "model": "base",
#   "backend": "whisper.cpp",
#   "threads": 4
# }

# –í–æ–π—Ç–∏ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
docker compose exec whisper /bin/bash
```

**–†–µ—à–µ–Ω–∏–µ**:
- –ú–æ–¥–µ–ª—å Whisper.cpp (GGML —Ñ–æ—Ä–º–∞—Ç) –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ (~150MB)
- –ï—Å–ª–∏ –Ω–µ —Ö–≤–∞—Ç–∞–µ—Ç –ø–∞–º—è—Ç–∏, —É–º–µ–Ω—å—à–∏—Ç–µ –º–æ–¥–µ–ª—å –∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ—Ç–æ–∫–æ–≤:
  ```env
  WHISPER_MODEL=tiny
  WHISPER_THREADS=2
  ```
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å ffmpeg –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ
- Whisper.cpp —Ç—Ä–µ–±—É–µ—Ç build-essential –¥–ª—è –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ (—É–∂–µ –≤–∫–ª—é—á–µ–Ω–æ –≤ Dockerfile)
- –ü–µ—Ä–≤–∞—è —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è –º–æ–∂–µ—Ç –∑–∞–Ω—è—Ç—å –±–æ–ª—å—à–µ –≤—Ä–µ–º–µ–Ω–∏ (–∑–∞–≥—Ä—É–∑–∫–∞ –º–æ–¥–µ–ª–∏)

### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞

**–ü—Ä–æ–±–ª–µ–º–∞**: –û—à–∏–±–∫–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ PostgreSQL

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å PostgreSQL
docker compose ps postgres

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏
docker compose logs postgres

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ
docker compose exec postgres pg_isready -U finance_user

# –í–æ–π—Ç–∏ –≤ psql
docker compose exec postgres psql -U finance_user -d finance_bot
```

**–†–µ—à–µ–Ω–∏–µ**:
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å –ø–∞—Ä–æ–ª—è –≤ `.env`
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ volume –Ω–µ –ø–æ–≤—Ä–µ–∂–¥–µ–Ω
- –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –ø–µ—Ä–µ—Å–æ–∑–¥–∞–π—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä: `docker compose up -d --force-recreate postgres`

### –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø–∞–º—è—Ç–∏

**–ü—Ä–æ–±–ª–µ–º–∞**: –°–µ—Ä–≤–µ—Ä –∑–∞–≤–∏—Å–∞–µ—Ç –∏–ª–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã —É–±–∏–≤–∞—é—Ç—Å—è OOM killer

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏
docker stats

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–∏—Å—Ç–µ–º–Ω—É—é –ø–∞–º—è—Ç—å
free -h

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å swap
swapon --show
```

**–†–µ—à–µ–Ω–∏–µ**:

1. –£–º–µ–Ω—å—à–∏—Ç—å –º–æ–¥–µ–ª—å Whisper.cpp –∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ—Ç–æ–∫–æ–≤:
```env
WHISPER_MODEL=tiny
WHISPER_THREADS=2
```

2. –°–æ–∑–¥–∞—Ç—å swap —Ñ–∞–π–ª (–µ—Å–ª–∏ –Ω–µ—Ç):
```bash
sudo fallocate -l 4G /swapfile
sudo chmod 600 /swapfile
sudo mkswap /swapfile
sudo swapon /swapfile
echo '/swapfile none swap sw 0 0' | sudo tee -a /etc/fstab
```

3. –û–≥—Ä–∞–Ω–∏—á–∏—Ç—å —Ä–µ—Å—É—Ä—Å—ã –≤ production —Ä–µ–∂–∏–º–µ (—É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ –≤ `docker-compose.prod.yml`)

### –ú–∏–≥—Ä–∞—Ü–∏–∏ –Ω–µ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è

**–ü—Ä–æ–±–ª–µ–º–∞**: –û—à–∏–±–∫–∏ –ø—Ä–∏ `alembic upgrade head`

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–µ–∫—É—â—É—é –≤–µ—Ä—Å–∏—é
docker compose exec bot alembic current

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–æ—Å—Ç—É–ø–Ω—ã–µ –º–∏–≥—Ä–∞—Ü–∏–∏
docker compose exec bot alembic history

# –û—Ç–∫–∞—Ç–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é
docker compose exec bot alembic downgrade -1

# –ü—Ä–∏–º–µ–Ω–∏—Ç—å –∑–∞–Ω–æ–≤–æ
docker compose exec bot alembic upgrade head
```

**–†–µ—à–µ–Ω–∏–µ**:
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ë–î –¥–æ—Å—Ç—É–ø–Ω–∞ –∏ —Å–æ–¥–µ—Ä–∂–∏—Ç —Å—Ö–µ–º—É
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–∞–π–ª—ã –º–∏–≥—Ä–∞—Ü–∏–π –≤ `alembic/versions/`
- –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –æ—Ç–∫–∞—Ç–∏—Ç–µ –∏ –ø—Ä–∏–º–µ–Ω–∏—Ç–µ –∑–∞–Ω–æ–≤–æ

### –ü–æ—Ä—Ç—ã –∑–∞–Ω—è—Ç—ã

**–ü—Ä–æ–±–ª–µ–º–∞**: –û—à–∏–±–∫–∞ "port is already allocated"

```bash
# –ù–∞–π—Ç–∏ –ø—Ä–æ—Ü–µ—Å—Å—ã –Ω–∞ –ø–æ—Ä—Ç–∞—Ö
sudo lsof -i :5432  # PostgreSQL
sudo lsof -i :6379  # Redis
sudo lsof -i :8000  # Whisper.cpp

# –ò–ª–∏ —á–µ—Ä–µ–∑ netstat
sudo netstat -tulpn | grep :5432
```

**–†–µ—à–µ–Ω–∏–µ**:

1. –û—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç—É—é—â–∏–µ —Å–µ—Ä–≤–∏—Å—ã
2. –ò–ª–∏ –∏–∑–º–µ–Ω–∏—Ç–µ –ø–æ—Ä—Ç—ã –≤ `.env`:
```env
POSTGRES_PORT=5433
REDIS_PORT=6380
WHISPER_PORT=8001
```

### –ü–æ–ª–Ω–∞—è –ø–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∫–∞

–ï—Å–ª–∏ –Ω–∏—á–µ–≥–æ –Ω–µ –ø–æ–º–æ–≥–∞–µ—Ç:

```bash
# –í–ù–ò–ú–ê–ù–ò–ï: –≠—Ç–æ —É–¥–∞–ª–∏—Ç –≤—Å–µ –¥–∞–Ω–Ω—ã–µ!

# –°–æ–∑–¥–∞–π—Ç–µ –±—ç–∫–∞–ø –ø–µ—Ä–µ–¥ —É–¥–∞–ª–µ–Ω–∏–µ–º
make backup-db

# –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ —É–¥–∞–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ –∏ volumes
docker compose down -v

# –£–¥–∞–ª–µ–Ω–∏–µ –æ–±—Ä–∞–∑–æ–≤
docker compose down --rmi all

# –û—á–∏—Å—Ç–∫–∞ —Å–∏—Å—Ç–µ–º—ã Docker
docker system prune -a --volumes

# –ü–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∫–∞
make install
```

### –ú–∏–≥—Ä–∞—Ü–∏—è —Å openai-whisper –Ω–∞ Whisper.cpp

**–ï—Å–ª–∏ –≤—ã –æ–±–Ω–æ–≤–ª—è–µ—Ç–µ —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é —É—Å—Ç–∞–Ω–æ–≤–∫—É:**

```bash
# 1. –û—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Å–µ—Ä–≤–∏—Å—ã
docker compose down

# 2. –û–±–Ω–æ–≤–∏—Ç–µ .env —Ñ–∞–π–ª
nano .env

# –£–¥–∞–ª–∏—Ç–µ (–µ—Å–ª–∏ –µ—Å—Ç—å):
# WHISPER_DEVICE=cpu

# –î–æ–±–∞–≤—å—Ç–µ:
WHISPER_MODEL=base
WHISPER_THREADS=4

# 3. –ü–æ–ª—É—á–∏—Ç–µ –ø–æ—Å–ª–µ–¥–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
git pull origin main

# 4. –ü–µ—Ä–µ—Å–æ–±–µ—Ä–∏—Ç–µ Whisper –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
docker compose build --no-cache whisper

# 5. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–∏—Å—ã
docker compose up -d

# 6. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è whisper.cpp
curl http://localhost:8000/health
# –î–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å: "backend": "whisper.cpp"
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –ø–æ—Å–ª–µ –º–∏–≥—Ä–∞—Ü–∏–∏:**
- ‚ö° –°–∫–æ—Ä–æ—Å—Ç—å —Ç—Ä–∞–Ω—Å–∫—Ä–∏–±–∞—Ü–∏–∏: **2-4x –±—ã—Å—Ç—Ä–µ–µ**
- üíæ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ RAM: **-75%** (2GB ‚Üí 500MB)
- üì¶ –†–∞–∑–º–µ—Ä Docker –æ–±—Ä–∞–∑–∞: **-75%** (4GB ‚Üí 1GB)
- ‚úÖ –¢–æ—á–Ω–æ—Å—Ç—å: **–±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π**

–ü–æ–¥—Ä–æ–±–Ω–µ–µ: —Å–º. [MIGRATION_TO_WHISPER_CPP.md](MIGRATION_TO_WHISPER_CPP.md)

---

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º:

1. –ò–∑—É—á–∏—Ç–µ –ª–æ–≥–∏: `make logs-bot`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∑–¥–æ—Ä–æ–≤—å–µ: `make health`
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —ç—Ç–æ—Ç —Ä–∞–∑–¥–µ–ª –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
4. –°–æ–∑–¥–∞–π—Ç–µ issue –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏

---

## ‚úÖ –ß–µ–∫–ª–∏—Å—Ç –ø–æ—Å–ª–µ –¥–µ–ø–ª–æ—è

### –ë–∞–∑–æ–≤–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞
- [ ] –í—Å–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –∑–∞–ø—É—â–µ–Ω—ã (`docker compose ps`)
- [ ] –ú–∏–≥—Ä–∞—Ü–∏–∏ –ø—Ä–∏–º–µ–Ω–µ–Ω—ã —É—Å–ø–µ—à–Ω–æ
- [ ] –ë–æ—Ç –æ—Ç–≤–µ—á–∞–µ—Ç –≤ Telegram (`/start`)
- [ ] –†—É—á–Ω–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π —Ä–∞–±–æ—Ç–∞–µ—Ç (`/add`)

### Whisper.cpp –ø—Ä–æ–≤–µ—Ä–∫–∞
- [ ] Whisper.cpp API –¥–æ—Å—Ç—É–ø–µ–Ω (`curl http://localhost:8000/health`)
- [ ] API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `"backend": "whisper.cpp"`
- [ ] –ì–æ–ª–æ—Å–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è —Ç—Ä–∞–Ω—Å–∫—Ä–∏–±–∏—Ä—É—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- [ ] –í—Ä–µ–º—è —Ç—Ä–∞–Ω—Å–∫—Ä–∏–±–∞—Ü–∏–∏ –ø—Ä–∏–µ–º–ª–µ–º–æ–µ (–æ–±—ã—á–Ω–æ 2-5 —Å–µ–∫—É–Ω–¥ –¥–ª—è 5-—Å–µ–∫ –∞—É–¥–∏–æ)

### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ
- [ ] –ü–∞—Ä–æ–ª–∏ –≤ `.env` –∏–∑–º–µ–Ω–µ–Ω—ã —Å –¥–µ—Ñ–æ–ª—Ç–Ω—ã—Ö
- [ ] Firewall –Ω–∞—Å—Ç—Ä–æ–µ–Ω –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ (`sudo ufw status`)
- [ ] –ù–∞—Å—Ç—Ä–æ–µ–Ω –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫ (systemd service)
- [ ] –ù–∞—Å—Ç—Ä–æ–µ–Ω—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –±—ç–∫–∞–ø—ã (cron)
- [ ] –ù–∞—Å—Ç—Ä–æ–µ–Ω–∞ —Ä–æ—Ç–∞—Ü–∏—è –ª–æ–≥–æ–≤ (logrotate)
- [ ] –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –Ω–∞—Å—Ç—Ä–æ–µ–Ω (`make health`)

### –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- [ ] –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏ –≤ –Ω–æ—Ä–º–µ (`docker stats`)
- [ ] –ù–µ—Ç –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–æ–≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ (`docker compose ps`)
- [ ] –õ–æ–≥–∏ –±–µ–∑ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ—à–∏–±–æ–∫ (`make logs-bot`)

---

**–£—Å–ø–µ—à–Ω–æ–≥–æ –¥–µ–ø–ª–æ—è! üéâ**


